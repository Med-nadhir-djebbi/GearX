{{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
    <div class="row">
        <div class="col-md-6 mb-3"> {# Added mb-3 for consistency #}
            <div class="form-group"> {# Use form-group for better structure #}
                {{ form_label(form.email, null, {'label_attr': {'class': 'cyberpunk-label'}}) }}
                {{ form_widget(form.email, {'attr': {'class': 'cyberpunk-form-input'}}) }}
                {{ form_errors(form.email) }}
            </div>
        </div>
        <div class="col-md-6 mb-3"> {# Added mb-3 for consistency #}
            <div class="form-group">
                {{ form_label(form.username, null, {'label_attr': {'class': 'cyberpunk-label'}}) }}
                {{ form_widget(form.username, {'attr': {'class': 'cyberpunk-form-input'}}) }}
                {{ form_errors(form.username) }}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6 mb-3"> {# Added mb-3 for consistency #}
            <div class="form-group">
                {{ form_label(form.firstName, null, {'label_attr': {'class': 'cyberpunk-label'}}) }}
                {{ form_widget(form.firstName, {'attr': {'class': 'cyberpunk-form-input'}}) }}
                {{ form_errors(form.firstName) }}
            </div>
        </div>
        <div class="col-md-6 mb-3"> {# Added mb-3 for consistency #}
            <div class="form-group">
                {{ form_label(form.lastName, null, {'label_attr': {'class': 'cyberpunk-label'}}) }}
                {{ form_widget(form.lastName, {'attr': {'class': 'cyberpunk-form-input'}}) }}
                {{ form_errors(form.lastName) }}
            </div>
        </div>
    </div>

    <div class="mb-3"> {# This will take full width, no need for row/col #}
        <div class="form-group">
            {{ form_label(form.plainPassword, null, {'label_attr': {'class': 'cyberpunk-label'}}) }}
            {{ form_widget(form.plainPassword, {'attr': {'class': 'cyberpunk-form-input'}}) }}
            {{ form_errors(form.plainPassword) }}
            {% if form.plainPassword.vars.help is defined %}
                <small class="form-text text-lighter mt-1">{{ form.plainPassword.vars.help }}</small> {# Applied text-lighter #}
            {% endif %}
        </div>
    </div>

    <div class="mb-3">
        {# Symfony renders collection of checkboxes differently, might need specific handling for roles #}
        {# For a basic single select, form_widget would render a select box #}
        {# If roles is a collection of checkboxes, you might need to iterate over form.roles children #}
        {{ form_label(form.roles, null, {'label_attr': {'class': 'cyberpunk-label'}}) }}
        {% for roleChoice in form.roles %}
            <div class="form-check">
                {{ form_widget(roleChoice, {'attr': {'class': 'form-check-input'}}) }} {# Keep Bootstrap's form-check-input for base #}
                <label class="form-check-label text-lighter ms-2" for="{{ roleChoice.vars.id }}"> {# Added text-lighter and ms-2 #}
                    {{ roleChoice.vars.label }}
                </label>
            </div>
        {% endfor %}
        {{ form_errors(form.roles) }}
    </div>

    <div class="d-flex justify-content-start gap-2 mt-4">
       <button type="submit" class="btn gaming-button-admin">
           <i class="fas fa-save me-2"></i> {{ button_label|default('Save') }}
       </button>
       <a href="{{ path('admin_users') }}" class="btn gaming-button-admin">
           <i class="fas fa-arrow-left me-2"></i> Back to List
       </a>
   </div>
{{ form_end(form) }}