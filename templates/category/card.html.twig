{# category/card.html.twig #}
{# Wrap the entire card content in an <a> tag #}
<a href="{{ target_path }}" class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 cursor-pointer text-decoration-none"> {# Added text-decoration-none to remove default underline #}
    <div class="cardy bg-dark w-full flex flex-col shadow-lg rounded-lg overflow-hidden h-full"> {# Added h-full to make card fill the anchor height #}
        {# Image section #}
        <div class="flex items-center justify-center p-2" style="flex-grow: 1; flex-shrink: 1; min-height: 0;">
            <img src="{{ asset('assets/img/categories/' ~ (category.image ?? 'placeholder.jpg')) }}"
                 class="w-full object-contain"
                 alt="{{ category.name }}"
                 onerror="this.src='{{ asset('assets/img/placeholder.webp') }}'">
        </div>

        {# Name section #}
        <div class="p-3 border-t border-gray-700">
            <h3 class="chakra-petch font-bold text-lg text-center text-light">
                {% if target_path == path('app_category_subcategories', {'id': category.id}) %}
                    Browse Subcategories
                    <span class="text-sm text-gray-400">({{ category.subcategories|length }})</span>
                {% else %}
                    View Products
                {% endif %}
            </h3>
        </div>
    </div>
</a>    