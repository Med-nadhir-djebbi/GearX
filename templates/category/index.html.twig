{% extends 'base.html.twig' %}

{% block body %}
    <nav class="mb-4">
        <a href="{{ path('app_category_index') }}" class="text-light hover:text-accent">
            All Categories
        </a>
        {% if currentParent %}
            / <span class="text-accent">{{ currentParent.name }}</span>
        {% endif %}
    </nav>

    <div class="row g-4">
        {% for category in categories %}
            <div class="col-12">
                <h3 class="chakra-petch font-bold text-xl text-light mb-2">{{ category.name }}</h3>
                {% include 'category/card.html.twig' with {
                    'category': category,
                    'target_path': category.subcategories|length > 0 ? 
                        path('app_category_subcategories', {'id': category.id}) : 
                        path('app_collections', {'categories[]': category.id})
                } %}
            </div>
        {% else %}
            <div class="col-12">
                <div class="alert alert-info">No categories found in this section.</div>
            </div>
        {% endfor %}
    </div>
{% endblock %}